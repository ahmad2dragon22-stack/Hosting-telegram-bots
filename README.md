# Hosting-telegram-bots

هذا المشروع هو مدير لاستضافة وتشغيل ملفات بوتات تيليجرام بصيغة Python على الخادم.

ملاحظة هامة: يوصى بتشغيل هذا المشروع على Python 3.11 لتفادي مشكلات التوافق مع مكتبة `python-telegram-bot`.

ميزات مضافة:

نسخة وتحديث الإصدار: 2.3

تحسينات وإضافات في الإصدار 2.3:
- نظام صلاحيات محسّن: يمكن للإدمن إضافة مستخدمين مسموحين (`/allow`, `/revoke`).
- نظام اشتراكات بالنجوم: منح نجوم لمستخدمين مع مدة صلاحية (`/grant_stars`).
- تثبيت مكتبات تلقائيًا: رفع `requirements.txt` لكل بوت وسيتم تثبيت الحزم داخل مجلد البوت مع سجل `install.log`.
- مجلد تخزين لكل بوت: متغير بيئة `BOT_STORAGE_PATH` متاح للبوتات للوصول للتخزين الدائم.
- تحسين التقاط السجلات: stdout و stderr يُحفَظان في `output.log` و `error.log` لكل بوت، وتجميع الأخطاء للعرض في لوحة التحكم.
- تحسين نظام الأزرار وواجهة التحكم لتفادي مشاكل الترميز والأحجام.
- حماية الوصول: فقط الإدمن أو المستخدمين المصرح لهم يمكنهم استخدام أوامر الإدارة.
- Healthcheck HTTP على المنفذ `8000` لمراقبة جاهزية المضيف.
- آلية إعادة تشغيل أوتوماتيكية للبوتات المشغلة عند بدء الخادم.
- سجل الأخطاء والتثبيتات موجود في مجلد كل بوت لسهولة العرض والتنزيل.

تعليمات سريعة بعد التحديث:
- لرفع متطلبات بوت: ارسل `requirements.txt` داخل caption `bot:mybot` أو ارفقه لمجلد البوت المناسب.
- لعرض لوحة التحكم: `/dashboard` (مقيد بالمصرح لهم).
كيفية الاستخدام السريع:
- ارسل ملف `.py` إلى البوت مع caption مثل `bot:mybot` لتعيين اسم البوت.
- إن لم تحدد اسم البوت، سيُستخدم اسم الملف بدون امتداد.
- لعرض الملفات لبوت: `/files mybot`
- لعرض إعدادات بوت: `/config mybot`
- لتعديل إعداد: `/set mybot auto_restart false`
- لتشغيل/إيقاف/إعادة تشغيل: `/startbot mybot`, `/stopbot mybot`, `/restartbot mybot`
- لحذف ملف محدد: `/removefile mybot <file_id_or_index>`

تحديثات أخرى ممكنة (أفكار مستقبلية):
- واجهة ويب مبسطة لإدارة البوتات.
- نظام صلاحيات متعدد للمستخدمين.
- نسخ احتياطي و استعادة إعدادات/ملفات البوتات.
- دعم حاويات (Docker) لكل بوت لعزل التنفيذ.

تثبيت المتطلبات:
```bash
pip install -r requirements.txt
```

تشغيل:
```bash
python main.py
```